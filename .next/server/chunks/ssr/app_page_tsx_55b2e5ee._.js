module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,b.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,b.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),e=({className:a="w-5 h-5"})=>(0,b.jsx)("div",{className:`${a} border-2 border-t-purple-400 border-r-purple-400 border-b-transparent border-l-transparent rounded-full animate-spin`}),f=({onAddWatch:a,onClose:f})=>{let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("1"),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),w=async b=>{var c,d,e,f;let s,u,w,x,y,z,A;b.preventDefault();let B=(s=[],(u=(d=(c={eventName:g,venueName:i,venueLocation:k,date:m,targetPrice:o,numTickets:q}).eventName)&&0!==d.trim().length?d.trim().length<3?"Event name must be at least 3 characters":d.length>200?"Event name must be less than 200 characters":null:"Event name is required")&&s.push(u),(w=(e=c.venueName)&&0!==e.trim().length?e.trim().length<2?"Venue name must be at least 2 characters":null:"Venue name is required")&&s.push(w),(x=(f=c.venueLocation)&&0!==f.trim().length?f.trim().length<2?"Venue location must be at least 2 characters":null:"Venue location is required")&&s.push(x),(y=(a=>{if(!a)return"Date is required";let b=new Date(a),c=new Date;if(c.setHours(0,0,0,0),isNaN(b.getTime()))return"Invalid date format";if(b<c)return"Date must be in the future";let d=new Date;return(d.setFullYear(d.getFullYear()+5),b>d)?"Date must be within the next 5 years":null})(c.date))&&s.push(y),(z=(a=>{if(!a||0===a.trim().length)return"Target price is required";let b=parseFloat(a);return isNaN(b)?"Target price must be a valid number":b<=0?"Target price must be greater than 0":b>1e5?"Target price seems unreasonably high. Please enter a value less than $100,000":null})(c.targetPrice))&&s.push(z),(A=(a=>{if(!a||0===a.trim().length)return"Number of tickets is required";let b=parseInt(a,10);return isNaN(b)?"Number of tickets must be a valid number":b<1?"Number of tickets must be at least 1":b>50?"Number of tickets cannot exceed 50":null})(c.numTickets))&&s.push(A),{isValid:0===s.length,errors:s});if(!B.isValid)return void v(B.errors.join(". "));v(null),t(!0);try{await a({eventName:g.trim(),venueName:i.trim(),venueLocation:k.trim(),date:m,targetPrice:parseFloat(o),numTickets:parseInt(q,10)}),h(""),j(""),l(""),n(""),p(""),r("1")}catch(a){v(a instanceof Error?a.message:"An unknown error occurred."),t(!1)}};return(0,b.jsxs)("div",{className:"relative max-w-2xl w-full mx-auto bg-gray-800 p-6 sm:p-8 rounded-2xl border border-gray-700 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Add New Watch"}),(0,b.jsx)("p",{className:"text-gray-400 mb-6",children:"Enter event details to start tracking."}),(0,b.jsxs)("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{htmlFor:"eventName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Event Name"}),(0,b.jsx)("input",{type:"text",id:"eventName",value:g,onChange:a=>h(a.target.value),placeholder:"e.g., Taylor Swift: The Eras Tour",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"venueName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Venue"}),(0,b.jsx)("input",{type:"text",id:"venueName",value:i,onChange:a=>j(a.target.value),placeholder:"e.g., SoFi Stadium",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"venueLocation",className:"block text-sm font-medium text-gray-300 mb-1",children:"Venue Location"}),(0,b.jsx)("input",{type:"text",id:"venueLocation",value:k,onChange:a=>l(a.target.value),placeholder:"e.g., Inglewood, CA",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),(0,b.jsx)("input",{type:"date",id:"date",value:m,onChange:a=>n(a.target.value),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"targetPrice",className:"block text-sm font-medium text-gray-300 mb-1",children:"Target Price ($)"}),(0,b.jsx)("input",{type:"number",id:"targetPrice",value:o,onChange:a=>p(a.target.value),placeholder:"e.g., 350",min:"0",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{htmlFor:"numTickets",className:"block text-sm font-medium text-gray-300 mb-1",children:"Number of Tickets"}),(0,b.jsx)("input",{type:"number",id:"numTickets",value:q,onChange:a=>r(a.target.value),min:"1",className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white focus:ring-purple-500 focus:border-purple-500 transition"})]}),u&&(0,b.jsx)("p",{className:"text-red-400 md:col-span-2 text-sm text-center bg-red-900/20 py-2 px-4 rounded-md border border-red-500/30",children:u}),(0,b.jsxs)("div",{className:"md:col-span-2 flex justify-end items-center gap-4 mt-4",children:[(0,b.jsx)("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:s,className:"flex justify-center items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-900 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-300",children:[s?(0,b.jsx)(e,{}):(0,b.jsx)(d,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:s?"Adding...":"Add Watch"})]})]})]})]})},g=a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,b.jsx)("path",{d:"M21.5 2v6h-6"}),(0,b.jsx)("path",{d:"M2.5 22v-6h6"}),(0,b.jsx)("path",{d:"M22 11.5A10 10 0 0 0 3.5 12.5"}),(0,b.jsx)("path",{d:"M2 12.5a10 10 0 0 0 18.5-1"})]}),h=a=>(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...a,children:[(0,b.jsx)("path",{d:"M3 6h18"}),(0,b.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),i={watching:{label:"Watching",bgColor:"bg-blue-900/50 border-blue-700",textColor:"text-blue-300",dotColor:"bg-blue-400",message:"Price is above your target. We're keeping an eye on it."},alert:{label:"Price Alert!",bgColor:"bg-green-900/50 border-green-700",textColor:"text-green-300",dotColor:"bg-green-400 animate-pulse",message:"Price is at or below your target! Now might be a good time to buy."},error:{label:"Error",bgColor:"bg-red-900/50 border-red-700",textColor:"text-red-300",dotColor:"bg-red-400",message:"There was an error checking the price. Please try again."}},j=({watch:a,onRefresh:c,onDelete:d,isRefreshing:f})=>{let{eventName:j,venueName:k,venueLocation:l,date:m,targetPrice:n,numTickets:o,currentPrice:p,broker:q,status:r,lastChecked:s}=a,t=i[r],u=(a=>{try{return new Date(a).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch(b){return console.error("Error formatting date:",b),a}})(m),v=(a=>{if(!a)return"Never";try{return new Date(a).toLocaleString()}catch(a){return console.error("Error formatting last checked date:",a),"Unknown"}})(s),w=p-n,x=w<=0;return(0,b.jsxs)("div",{className:`flex flex-col rounded-2xl border p-5 transition-shadow hover:shadow-lg hover:shadow-purple-900/20 ${t.bgColor}`,children:[(0,b.jsxs)("div",{className:"flex-grow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:j}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[k,", ",l]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:u})]}),(0,b.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium py-1 px-3 rounded-full ${t.bgColor} ${t.textColor}`,children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${t.dotColor}`}),t.label]})]}),(0,b.jsxs)("div",{className:"my-4 grid grid-cols-2 gap-4 text-center",children:[(0,b.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:"Current Price"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-white",children:["$",p.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["via ",q]})]}),(0,b.jsxs)("div",{className:"bg-gray-800/50 p-3 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-400 uppercase font-semibold",children:"Target Price"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-purple-400",children:["$",n.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["for ",o," ticket",o>1?"s":""]})]})]}),(0,b.jsx)("div",{className:`p-3 rounded-lg text-center text-sm mb-4 ${x?"bg-green-900/30 text-green-300":"bg-red-900/30 text-red-300"}`,children:x?`Price is $${Math.abs(w).toFixed(2)} below your target!`:`Price is $${w.toFixed(2)} above your target.`}),(0,b.jsx)("p",{className:"text-xs text-center text-gray-500 italic mb-4",children:t.message})]}),(0,b.jsx)("div",{className:"border-t border-gray-700 pt-4 mt-auto",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Last checked: ",v]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>c(a.id),disabled:f,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white disabled:text-gray-600 disabled:cursor-not-allowed transition-colors","aria-label":"Refresh price",children:f?(0,b.jsx)(e,{className:"w-4 h-4"}):(0,b.jsx)(g,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>d(a.id),className:"p-2 rounded-full text-gray-400 hover:bg-red-800/50 hover:text-red-300 transition-colors","aria-label":"Delete watch",children:(0,b.jsx)(h,{className:"w-4 h-4"})})]})]})})]})},k=["SeatGeek","Ticketmaster","StubHub","Vivid Seats"],l=async a=>(await new Promise(a=>setTimeout(a,500)),{currentPrice:Math.round(a.targetPrice*(1.2+.3*Math.random())*100)/100,broker:k[Math.floor(Math.random()*k.length)]}),m=async a=>{var b,c;return await new Promise(a=>setTimeout(a,500)),{currentPrice:(b=a.targetPrice,c=a.currentPrice,.25>Math.random()?Math.round(b*(1-.15*Math.random())*100)/100:Math.max(1.05*b,Math.round(c*(1+(Math.random()-.5)*.2)*100)/100)),broker:.3>Math.random()?k[Math.floor(Math.random()*k.length)]:a.broker}},n=new class{async createWatch(a){return await l(a)}async updateWatchPrice(a){return await m(a)}},o=()=>(0,b.jsxs)("div",{className:"my-10 max-w-4xl mx-auto grid md:grid-cols-3 gap-6 text-center",children:[(0,b.jsxs)("div",{className:"bg-gray-800/40 p-6 rounded-xl border border-gray-700/50",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-purple-300 mb-2",children:"Set Your Watch"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Tells you to add an event and your target price."})]}),(0,b.jsxs)("div",{className:"bg-gray-800/40 p-6 rounded-xl border border-gray-700/50",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-purple-300 mb-2",children:"We Scan the Market"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Explains that the app will check prices for you."})]}),(0,b.jsxs)("div",{className:"bg-gray-800/40 p-6 rounded-xl border border-gray-700/50",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-purple-300 mb-2",children:"Get the Price Alert"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Describes the email notification you'll receive."})]})]}),p=({isOpen:a,onClose:c,onConfirm:d,title:e,children:f})=>a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",onClick:c,children:(0,b.jsxs)("div",{className:"relative max-w-md w-full mx-auto bg-gray-800 p-6 sm:p-8 rounded-2xl border border-gray-700 shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:e}),(0,b.jsx)("div",{className:"text-gray-300 mb-6",children:f}),(0,b.jsxs)("div",{className:"flex justify-end items-center gap-4",children:[(0,b.jsx)("button",{type:"button",onClick:c,className:"text-gray-400 hover:text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:d,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Confirm"})]})]})}):null;function q(){let[a,e]=(0,c.useState)(()=>[]),[g,h]=(0,c.useState)(!1),[i,k]=(0,c.useState)(new Set),[l,m]=(0,c.useState)(null),[q,r]=(0,c.useState)(null);(0,c.useEffect)(()=>{},[a]);let s=async a=>{try{r(null);let{currentPrice:b,broker:c}=await n.createWatch(a),d={...a,id:crypto.randomUUID(),currentPrice:b,broker:c,status:b<=a.targetPrice?"alert":"watching",lastChecked:new Date().toISOString()};e(a=>[d,...a]),h(!1)}catch(a){throw r(a instanceof Error?a.message:"Failed to create watch. Please try again."),console.error("Error adding watch:",a),a}},t=async b=>{let c=a.find(a=>a.id===b);if(c){k(a=>new Set(a).add(b));try{let{currentPrice:a,broker:d}=await n.updateWatchPrice(c);e(c=>c.map(c=>c.id===b?{...c,currentPrice:a,broker:d,status:a<=c.targetPrice?"alert":"watching",lastChecked:new Date().toISOString()}:c))}catch(a){console.error("Failed to refresh watch:",a),e(a=>a.map(a=>a.id===b?{...a,status:"error",lastChecked:new Date().toISOString()}:a))}finally{k(a=>{let c=new Set(a);return c.delete(b),c})}}};return(0,b.jsxs)("div",{className:"bg-gray-900 text-white min-h-screen font-sans",children:[(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("header",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-2",children:"Vibey Tickets"}),(0,b.jsx)("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Never miss a price drop. Set your target price for any event, and let our AI-powered watcher alert you when it's time to buy."}),q&&(0,b.jsx)("div",{className:"mt-4 max-w-2xl mx-auto bg-red-900/20 border border-red-500/30 text-red-300 px-4 py-2 rounded-md text-sm",children:q})]}),(0,b.jsx)("div",{className:"text-center mb-10",children:(0,b.jsxs)("button",{onClick:()=>h(!0),className:"flex mx-auto items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105",children:[(0,b.jsx)(d,{className:"w-5 h-5"}),"Add New Watch"]})}),0===a.length?(0,b.jsx)(o,{}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,b.jsx)(j,{watch:a,onRefresh:t,onDelete:()=>{m(a)},isRefreshing:i.has(a.id)},a.id))})]}),g&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:(0,b.jsx)(f,{onAddWatch:s,onClose:()=>h(!1)})}),l&&(0,b.jsxs)(p,{isOpen:!!l,onClose:()=>{m(null)},onConfirm:()=>{l&&(e(a=>a.filter(a=>a.id!==l.id)),m(null))},title:"Delete Watch",children:["Are you sure you want to delete the watch for ",(0,b.jsx)("span",{className:"font-bold",children:l.eventName}),"? This action cannot be undone."]})]})}a.s(["default",()=>q],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map